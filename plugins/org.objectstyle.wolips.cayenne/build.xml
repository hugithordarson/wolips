<?xml version="1.0"?>
 
<!-- ======================================================== -->
<!--        Main WOLips plugins Ant build file                -->
<!-- Serves as a facade for different helper build files.     -->
<!-- ======================================================== -->
<project name="org.objectstyle.wolips.cayenne" default="" basedir=".">

    <property file="default.properties"/>

    <!-- ========================================== -->
    <!-- Build copy resources.                      -->
    <!-- ========================================== -->
    <target name="copy.resources">
        <ant dir="." antfile="../../../${project.buildscripts.dir}/plugin-project.xml" target="copy.resources">
            <property name="param.plugin.dir" value="."/>
            <property name="param.build.output.build.dir" value="../../../${build.output.build.dir}"/>
            <property name="param.plugin.name" value="${plugin.name}"/>
	    </ant>
    </target>

    <!-- ========================================== -->
    <!-- Build copy jars.                           -->
    <!-- ========================================== -->
    <target name="lib">
	    <mkdir dir="../../../${build.output.build.dir}/plugins/${plugin.name}_${build.version}/lib"/>
	    <copy file="../../../lib/${lib.cayenne}" tofile="../../../${build.output.build.dir}/plugins/${plugin.name}_${build.version}/lib/cayenne.jar"/>
	    <copy file="../../../lib/${lib.log4j}" tofile="../../../${build.output.build.dir}/plugins/${plugin.name}_${build.version}/lib/log4j.jar"/>
    </target>

    <!-- ========================================== -->
    <!-- Build all.                                 -->
    <!-- ========================================== -->
    <target name="all" depends="copy.resources,lib">
    </target>

     
    <!-- ========================================== -->
    <!-- Build dist.                                -->
    <!-- ========================================== -->
    <target name="dist">
        <ant dir="." antfile="../../../${project.buildscripts.dir}/plugin-project.xml" target="dist">
            <property name="param.plugin.name" value="${plugin.name}"/>
            <property name="param.build.output.build.dir" value="../../../${build.output.build.dir}"/>
            <property name="param.build.dist.build.dir" value="../../../${build.output.dist.dir}"/>
	    </ant>
    </target>

</project>
